---
interface Props {
  packId: string
  name: string
  price: number
  pages: number
  features: string[]
  popular?: boolean
  cta?: string
  ctaLink?: string
  class?: string
}

const {
  packId: _packId,
  name,
  price,
  pages,
  features,
  popular = false,
  cta = 'Choisir ce pack',
  ctaLink = '/devis',
  class: className = '',
} = Astro.props
---

<div
  class={`${popular ? 'card-elegant-highlight relative' : 'card-elegant'} p-8 flex flex-col ${className}`}
>
  {
    popular && (
      <div class="absolute -top-4 left-1/2 -translate-x-1/2 bg-or text-white px-5 py-1.5 rounded-elegant text-xs font-semibold uppercase tracking-wider shadow-or">
        Recommandé
      </div>
    )
  }

  <div class="text-center mb-8">
    <h3 class="font-serif text-2xl font-bold text-noir mb-4">{name}</h3>
    <div class="flex items-end justify-center gap-1 mb-3">
      <span class="font-serif text-5xl font-bold text-or">{price}</span>
      <span class="text-2xl text-or font-medium mb-1">€</span>
    </div>
    <p class="text-sm text-charbon">{pages} pages incluses</p>
  </div>

  <div class="separator-gold-center mb-8"></div>

  <div class="flex-grow mb-8">
    <ul class="space-y-4">
      {
        features.map((feature) => (
          <li class="flex items-start gap-3">
            <svg
              class="w-5 h-5 text-or flex-shrink-0 mt-0.5"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M5 13l4 4L19 7"
              />
            </svg>
            <span class="text-sm text-charbon">{feature}</span>
          </li>
        ))
      }
    </ul>
  </div>

  <a
    href={ctaLink}
    class={popular ? 'btn-gold w-full text-center' : 'btn-secondary w-full text-center'}
  >
    {cta}
  </a>
</div>
